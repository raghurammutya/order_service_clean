# Order Service Environment Configuration
# Copy this file to .env and fill in your values
# SECURITY: Never commit .env files with actual credentials

# ===================
# REQUIRED SETTINGS
# ===================

# Environment: development, staging, production
ENVIRONMENT=development

# Database (PostgreSQL)
# SECURITY: Must be set - no default allowed
DATABASE_URL=postgresql://user:password@localhost:5432/stocksblitz_unified

# Redis (required for idempotency and caching)
REDIS_URL=redis://localhost:6379

# Kite Connect API credentials
KITE_API_KEY=your_kite_api_key
KITE_ACCOUNT_ID=primary

# Multi-account Kite (if using multiple trading accounts)
KITE_PRIMARY_API_KEY=your_primary_api_key
KITE_PERSONAL_API_KEY=your_personal_api_key

# ===================
# AUTHENTICATION
# ===================

# Enable JWT authentication (disable only for development)
AUTH_ENABLED=true

# JWKS URL for JWT verification
JWKS_URL=http://user-service:8001/v1/auth/.well-known/jwks.json
JWT_ISSUER=user_service
JWT_AUDIENCE=trading_platform

# ===================
# RATE LIMITING
# ===================

RATE_LIMIT_ENABLED=true
RATE_LIMIT_DEFAULT=100/minute
RATE_LIMIT_ORDER_PLACEMENT=10/minute

# ===================
# CORS (comma-separated)
# ===================

CORS_ENABLED=true
# Production example:
# CORS_ORIGINS=https://app.stocksblitz.com
# Development example:
CORS_ORIGINS=http://localhost:3000,http://localhost:3080

# ===================
# SERVICE SETTINGS
# ===================

PORT=8087
LOG_LEVEL=INFO
METRICS_ENABLED=true

# Order validation
ENABLE_ORDER_VALIDATION=true
ENABLE_RISK_CHECKS=true
MAX_ORDER_QUANTITY=10000
MAX_ORDER_VALUE=10000000

# Position tracking
ENABLE_POSITION_TRACKING=true

# External services
TICKER_SERVICE_URL=http://ticker-service:8089

# Redis required for production (set to false only in dev without Redis)
REDIS_REQUIRED=true
